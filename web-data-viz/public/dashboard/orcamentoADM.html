<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paixão em duas Rodas | Orçamentos</title>
    
    <link rel="icon" href="../img/logo1.ico" type="image/x-icon" sizes="64x64">
    
    <link rel="stylesheet" href="css/styleDash.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,100,0,0" />
    <link rel="stylesheet" href="./../css/dashboards.css">
    <script src="../js/sessao.js"></script>
    <script src="./../js/alerta.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
    <style>
        #body{
            color: black;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            color: #727272;
        }

        .card {
            color: #727272;
            border: 1px solid #727272;
            border-radius: 8px;
            padding: 16px;
            margin: 8px;
            width: auto;
            /* width: calc(33.333% - 32px); */
            box-sizing: border-box;
        }

        .card h2 {
            margin-top: 0;
            color: #727272;
        }

        #body {
            margin-top: 50px;
} 

h1 {
    color: #66411f;
    margin-bottom: 40px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    background-color: #fff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

th, td {
    padding: 12px 15px;
    border: 1px solid #9e9d9d;
    text-align: left;
}

th {
    background-color: #66411ff3;
    color: #fff;
    font-weight: bold;
    text-transform: uppercase;
}

tr {
    transition: background-color 0.2s ease;
}

tr:hover {
    background-color: #f1f1f1;
}

tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

tbody tr:nth-child(odd) {
    background-color: #fff;
}

tfoot {
    background-color: #f4f4f4;
    text-align: right;
}

tfoot tr td {
    font-weight: bold;
}

@media (max-width: 768px) {
    table {
        width: 100%;
    }

    th, td {
        padding: 10px 8px;
    }
}

    </style>
</head>

<body>
    <div class="navigation">
        <ul>
            <li class="list">
                <span class="title"
                    style="color: #66411f; font-size: larger; text-align: center;padding-left: 112px;font-weight: bold">Paixão</span>
            </li>
            <li class="list">
                <span class="title"
                    style="color: #66411f; font-size: large; text-align: center;padding-left: 130px;font-weight: bold">em</span>
            </li>
            <li class="list">
                <span class="title"
                    style="color: #66411f; font-size: large; text-align: center;padding-left: 121px;font-weight: bold">duas</span>
            </li>
            <li class="list">
                <span class="title"
                    style="color: #66411f; font-size: medium; text-align: center;padding-left: 118px;font-weight: bold">Rodas</span>
            </li>
            <li>
                <br>
            </li>
            <li>
                <span class="title"
                    style="color: white; font-size: large; text-align: center;padding-left: 100px;font-weight: bold;">Olá,&nbsp;<span
                        id="b_usuario">Usuário</span>!</span>
            </li>
            <br>
            <li class="list">
                <a href="dashboardADM.html">
                    <span class="icon"><span class="material-symbols-outlined">person</span></span>
                    <span class="title">Recepção</span>
                </a>
            </li>
            <li class="list active">
                <a href="orcamentoADM.html">
                    <span class="icon"><span class="material-symbols-outlined">checkbook</span></span>
                    <span class="title">Orçamentos</span>
                </a>
            </li>
            <li class="list">
                <a href="DashQuestADM.html">
                    <span class="icon"><ion-icon name="stats-chart-outline"></ion-icon></span>
                    <span class="title">Dashboards</span>
                </a>
            </li>
            <li class="list">
                <a href="../index.html">
                    <span class="icon"><ion-icon name="log-out-outline"></ion-icon></span>
                    <span class="title"><button class="logout" onclick="limparSessao()"> Sair</button></span>
                </a>
            </li>
        </ul>
        <div id="logoDash" style="margin-top: 550px; margin-left: 100px;">
            <img src="../img/logo.png" alt="" width="90" height="50">
        </div>
    </div>
    <div id="body" align="center">
        <h1>Orçamentos</h1>
        <table id="orcamentos-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Quilometragem orçada (km)</th>
                    <th>Custo Combustão (R$)</th>
                    <th>Custo Elétrico (R$)</th>
                    <th>Economia (R$)</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
        </div>
    </div>

    <script>
        b_usuario.innerHTML = sessionStorage.NOME_USUARIO
        document.addEventListener('DOMContentLoaded', function() {
            fetch("/questionario/buscarOrcamento", {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                const tbody = document.querySelector('#orcamentos-table tbody');
                tbody.innerHTML = ''; // Clear previous content

                if (data.length === 0) {
                    const row = document.createElement('tr');
                    const cell = document.createElement('td');
                    cell.colSpan = 5;
                    cell.textContent = 'Nenhum orçamento encontrado.';
                    row.appendChild(cell);
                    tbody.appendChild(row);
                } else {
                    data.forEach(orcamento => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${orcamento.idOrcamento}</td>
                            <td>${orcamento.KmOrcado} km</td>
                            <td>R$ ${orcamento.CustoCombustao}</td>
                            <td>R$ ${orcamento.CustoEletrico}</td>
                            <td>R$ ${orcamento.economia}</td>
                        `;
                        tbody.appendChild(row);
                    });
                }
            })
            .catch(error => {
                console.error('Houve um erro ao capturar os dados do Orcamento!', error);
            });
        });
//   document.addEventListener('DOMContentLoaded', function() {
//             fetch("/questionario/buscarOrcamento", {
//                 method: "GET",
//                 headers: {
//                     "Content-Type": "application/json"
//                 }
//             })
//             .then(response => {
//                 if (!response.ok) {
//                     throw new Error(`HTTP error! status: ${response.status}`);
//                 }
//                 return response.json();
//             })
//             .then(data => {
//                 const container = document.getElementById('orcamentos');
//                 data.forEach(orcamento => {
//                     const card = document.createElement('div');
//                     card.className = 'card';
//                     card.innerHTML = `
//                         <h2>ID Orçamento: ${orcamento.idOrcamento}</h2>
//                         <p>Quilometragem orçada: ${orcamento.KmOrcado} km</p>
//                         <p>Custo Combustão: R$ ${orcamento.CustoCombustao}</p>
//                         <p>Custo Elétrico: R$ ${orcamento.CustoEletrico}</p>
//                         <p>Economia: R$ ${orcamento.economia}</p>
//                     `;
//                     container.appendChild(card);
//                 });
//             })
//             .catch(error => {
//                 console.error('Houve um erro ao capturar os dados do Orcamento!', error);
//             });
//         });
    
    </script>
        
    </script>
</body>

</html>